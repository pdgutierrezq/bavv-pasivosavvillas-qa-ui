,,,,,,,,,
,,AMBIENTE,BASE URL SERVICIOS REST,,BASE URL WEB SOCKETS,,,,
,,DEV,https://ovysjs5mlh.execute-api.us-east-2.amazonaws.com/securityManagement,,wss://gi4fi6h2na.execute-api.us-east-2.amazonaws.com/test,wss://9dayufg7fd.execute-api.us-east-2.amazonaws.com/dev,,,
,,STG,https://f0kgxoe2k4.execute-api.us-east-2.amazonaws.com/securityManagement,,wss://s0t5mc4x8d.execute-api.us-east-2.amazonaws.com/stg,wss://dvd9ri2e01.execute-api.us-east-2.amazonaws.com/stg,,,
,,PRO,https://pq7mauhive.execute-api.us-east-2.amazonaws.com/securityManagement,,wss://5r2hsoh2ge.execute-api.us-east-2.amazonaws.com/pro,wss://p5xbmat9tg.execute-api.us-east-2.amazonaws.com/pro,,,
,,,,,,,,,
,COMPONENTE (bavv-pasivo-),LAMBDA,NOMBRE LAMBDA,INTEGRACIÓN,TERCEROS,ENDPOINT DEL SERVICIO EXPUESTO,ENDPOINT DEL SERVICIO A CONSUMIR,MOCK,DEPENDENCIAS
,validate-recaptcha,Java8,rb-pasivo-[stack]-validate-recaptcha,REST,"Consume la api de Google recaptchaV3, para validar si el usuario que consume el servicio es un robot.",POST: /recaptchaV3,https://www.google.com/recaptcha/api/,,
2,read-customer-accounts,Java8,rb-pasivo-[stack]-read-customer-accounts,REST,"Consume el servicio consultarCuentasCliente del Datapower del banco, que retorna las cuentas que tiene el usuario. Con esta información retorna si el usuario tiene creada una cuenta de tipo CAT en el banco.",POST: /customer-accounts,"STG: https://192.168.135.28:442/PFBA_AhorrosyCtaCte20/sca/WSBA_AhorrosyCtaCte_consultarCuentasClienteV02
PRO: https://aliaslambda.avvillaspasivo.net:442/PFBA_AhorrosyCtaCte20/sca/WSBA_AhorrosyCtaCte_consultarCuentasClienteV02",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/wn0iz3/CustomerProductAdminSvcPort,
1,read-customer-conditions,Java8,rb-pasivo-[stack]-read-customer-conditions,REST,"Consume el servicio consultarCondicionesCliente del DataPower del banco, para saber si el usuario es cliente, si esta actualizado, y si está en listas restrictivas.",POST: /bavv-identification/customer-conditions,"STG https://192.168.135.28:442/PFBA_Crm31/sca/WSBA_Crm_consultarCondicionesCliente
PRO https://aliaslambda.avvillaspasivo.net:442/PFBA_Crm31/sca/WSBA_Crm_consultarCondicionesCliente",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/7cGqrI/CustomerConditionsInquirySvcPort,
,user-identity,Node14,rb-pasivo-[stack]-user-identity,REST,"Esta lambda realiza la autenticación del usuario. Cuando NO recibe la OTP como parte del request, consume el servicio User_Identity/create de la célula habilitadora, con el cual valida si el usuario ingresó datos válidos en el formulario de identificación. Si estos superan con éxito el flujo definido, se solicita al banco que envíe una OTP al celular ingresado.
Cuando en el request de esta lambda se recibe la OTP, se consume el servicio User_Identity/validate de la célula habilitadora, con lo cual se valida que la OTP corresponda a la enviada previamente. Si la respuesta de la habilitadora es exitosa se genera un token, que se almacena asociado a la transacción y la cédula del usuario en la tabla rb-pasivo-transaction-data. Dicho token es retornado como parte de la respuesta del servicio y es requerido para autorizar el consumo de los siguientes servicios del flujo, de forma segura.",POST: /bavv-identification/user-identity,"STG https://adl-habilitadora-stg-api.avaldigitallabs.com/securityManagement/v1/User_Identity/
PRO https://digital-api.avaldigitallabs.com/securityManagement/v1/User_Identity",http://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/rest/project/a3ymXG/application/R99bqa/validate/,
,authorization-token,Node14,rb-pasivo-[stack]-authorization-token,Authorizer API-Gateway,"Esta lambda es llamada por el api-gateway cuando recibe una petición hacia algún servicio seguro que requiere autorización para ser consumido. En ella se valida que el token recibido en la solicitud, corresponda a la transacción y celular con los que fue creado. Si los datos son válidos se autoriza el consumo del servicio que se esté invocando, en caso contrario se retorna un error 401 de no autorizado.",*ES TRANSVERSAL,No Aplica,No Aplica,
2,read-customer-data,Java8,rb-pasivo-[stack]-read-customer-data,WSS. Ruta: crm-rp-cc,"Consume el servicio ConsultarDatosCliente del DataPower del banco, el cual retorna la información que el usuario tiene en CRM. La información obtenida se inserta en la tabla rb-pasivo-crm-customer-data y se retorna como parte de la respuesta.",WSS RUTA: crm-rp-cc,"STG https://192.168.135.28:442/PFBA_Crm32/sca/WSBA_Crm_consultarDatosClienteV03
PRO https://aliaslambda.avvillaspasivo.net:442/PFBA_Crm32/sca/WSBA_Crm_consultarDatosClienteV03",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/szT8NH/CustomerDataInqSvcPort,
2,create-product,Java8,rb-pasivo-[stack]-create-passive-product,"WSS RUTA: 
Llamado 1: crm-rp-cc-cdt 
Llamado 2: cpp2-ci-es

REST: Llamado 1.5","Consume el servicio RadicarSolicitudPasivo del DataPower del banco. Cuando lo hace por primera vez, el banco crea una solicitud de creación de cuenta, la segunda vez que se consume se envía el id de la solicitud previamente generada, para que con base en ella el banco cree la cuenta de ahorros.","WSS RUTA: crm-rp-cc(primer llamado) y cpp2-ci-es(segundo llamado)

POST: /create-passive-product","STG https://192.168.135.28:442/PFBA_Multiaplicacion15/sca/WSBA_Multiaplicacion_radicarSolicitudPasivo
PRO https://aliaslambda.avvillaspasivo.net:442/PFBA_Multiaplicacion15/sca/WSBA_Multiaplicacion_radicarSolicitudPasivo",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/WHtzrB/WSBA_Multiaplicacion_radicarSolicitudPasivo_ApplicationAdminSvcHttpPort,
,save-summary-transaction,Node14,rb-pasivo-[stack]-save-summary-transaction,WSS. Ruta: crm-rp-cc,Almacena el resumen de la transacción en la tabla rb-pasivo-summary-transaction-data.,WSS RUTA: crm-rp-cc,No Aplica,No Aplica,
3,update-customer-data,Java8,rb-pasivo-[stack]-update-data-crm,WSS. Ruta: cpp2-ci-es,"Lee la información del cliente alojada en la tabla rb-pasivo-crm-customer-data. Con base en estos datos y en los que el usuario llenó en los formularios, consume el servicio ActualizarDatosCliente del DataPower del banco para actualizarla en el CRM.",WSS RUTA: cpp2-ci-es,"STG https://192.168.135.28:442/PFBA_Crm34/sca/WSBA_Crm_actualizarDatosClienteV03IFX
PRO https://aliaslambda.avvillaspasivo.net:442/PFBA_Crm34/sca/WSBA_Crm_actualizarDatosClienteV03IFX",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/XV9lRC/CustomerDataStatusSvcPort,
,get-documents-to-charge,Node14,rb-pasivo-[stack]-get-documents-to-charge,REST,"Consume el servicio de iniciar-cargue-documentos de sandbox, la respuesta permite a front saber qué documentos solicitarle al cliente.",POST: /get-documents-to-charge,"DEV https://xbpjskgord.execute-api.us-east-2.amazonaws.com/dev/sandbox/initiate
STG https://88etqtq4fg.execute-api.us-east-2.amazonaws.com/stg/sandbox/initiate
PRO ",,
,document-recognition,Node14,rb-pasivo-[stack]-document-recognition,REST,"Consume el servicio de iniciar-cargue-documentos de sandbox, la respuesta permite a front saber qué documentos solicitarle al cliente.",POST: /validate-document,No Aplica,No Aplica,
,save-document,Node14,rb-pasivo-[stack]-save-document,REST,Este servicio convierte las 2 caras de la cédula en 1 PDF y lo almacena en el S3 rb-pasivo-[stack]-documents-client-bkt. ,POST: /save-document,No Aplica,No Aplica,
,generate-presigned-url,Node14,rb-pasivo-[stack]-generate-presigned-url,REST,Genera una url para que front pueda subir documentos del cliente al S3 rb-pasivo-[stack]-documents-client-bkt. (Documentos diferentes a la cédula),POST: /generate-presigned-url,No Aplica,No Aplica,
,transform-sqs-message,Python3.7,rb-pasivo-[stack]-transform-sqs-message,SQS,"A través de una integración rest se envían mensajes a la cola SQS rb-pasivo-[stack]-sqs-cda-documents-queue. Esta lambda consume dichos mensajes, los transforma de acuerdo al formato requerido y ejecuta la maquina de estados de nube negra [stack]-sandbox-data",POST: /sqs-cda-documents,No Aplica,No Aplica,
,get-bank-documents,Node14,rb-pasivo-[stack]-get-bank-documents,REST,"Obtiene los documentos con formato banco que el usuario va a firmar (estos no tienen caída de datos), los cuales están almacenados en el Bucket S3 rb-pasivo-[stack]-bank-documents-bkt",POST: /get-pdf,No Aplica,No Aplica,
3,electronic-signature,Java8,rb-pasivo-[stack]-digital-signature,WSS. Ruta: cpp2-ci-es,"Consume el servicio EjecutarFirmaDigital del DataPower del banco, con el cual el usuario firma electrónicamente un paquete de documentos con formatos tipo banco, los cuales corresponden a las características del producto que el usuario eligió en el flujo de apertura.",WSS RUTA: cpp2-ci-es,"STG https://192.168.135.28:442/PJBA_Multiaplicacion_ejecutarFirmaDigital/WSBA_Multiaplicacion_ejecutarFirmaDigitalV2
PRO https://aliaslambda.avvillaspasivo.net:442/PJBA_Multiaplicacion_ejecutarFirmaDigital/WSBA_Multiaplicacion_ejecutarFirmaDigitalV2",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/GiJwtj/WSBA_Multiaplicacion_ejecutarFirmaDigitalPort,
3,create-insurance,Java8,rb-pasivo-[stack]-create-ensurance,WSS. Ruta: cpp2-ci-es,"Consume el servicio RadicarSeguro del DataPower del banco, el cual se encarga de crear un seguro asociado a la cuenta de ahorros creada.",WSS RUTA: cpp2-ci-es,"STG https://192.168.135.28:442/PFBA_AhorrosyCtaCte19/sca/WSBA_AhorrosyCtaCte_radicarSegurosIFX
PRO https://aliaslambda.avvillaspasivo.net:442/PFBA_AhorrosyCtaCte19/sca/WSBA_AhorrosyCtaCte_radicarSegurosIFX",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/soap/project/I3i1qO/InsuranceFileSvcPort,
,read-active-channels,Node14,rb-pasivo-[stack]-read-active-channels,REST,Consume la operación GET del servicio Enrollment_Customer de la celula de servicios compartidos para conocer si el cliente tiene una clave universal asignada en por lo menos uno de sus canales activos,GET: /read-active-channels,"STG https://apicapi-gateway-qa.appsptqa.ath.com.co/org-qa/api-pb/securityManagement/v2/Enrollment_Customer/Customer
PRO https://apicapi-gateway-qa.appsptqa.ath.com.co/org-qa/ath-api-calidad/securityManagement/v2/Enrollment_Customer/Customer",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/rest/project/m5ZRQg/application/ODSeQ3/Enrollment_Customer/Customer,
,create-sds-user,Node14,rb-pasivo-[stack]-create-sds-user,REST,"Consume la operación POST del servicio Enrollment_Customer de la celula de servicios compartidos, para crearle al cliente una contraseña universal para acceder a sus canales.",POST: /create-sds-user,"STG https://apicapi-gateway-qa.appsptqa.ath.com.co/org-qa/api-pb/securityManagement/v2/Enrollment_Customer/Customer
PRO https://apicapi-gateway-qa.appsptqa.ath.com.co/org-qa/ath-api-calidad/securityManagement/v2/Enrollment_Customer/Customer",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/rest/project/Y6ThlN/application/RolaVj/,
,read-summary-transaction,Node14,rb-pasivo-[stack]-read-summary-transaction,REST,Lee el resumen de la transacción almacenado en la tabla rb-pasivo-summary-transaction-data.,GET: /read-summary-transaction,No Aplica,No Aplica,
,notify-account-creation,Node14,rb-pasivo-[stack]-notify-account-creation,WSS. Ruta: cpp2-ci-es," Basicamente este servicio se consume para que el banco genre el proceso de envío del mail de bienvenida y actualice la fecha sipla, la cual nos permite saber si el usuario está actualizado o no.",WSS RUTA: cpp2-ci-es,"STG https://192.168.135.28:542/PFBA_CanalOtros296/WRBA_CanalOtros_notificaAperturaCuenta
PRO https://aliaslambda.avvillaspasivo.net:542/PFBA_CanalOtros296/WRBA_CanalOtros_notificaAperturaCuenta",https://rb-dev-alb-ecs-ext-525169194.us-east-2.elb.amazonaws.com/castlemock/mock/rest/project/xu0A4d/application/3ugtaH/notify-accont-creation,